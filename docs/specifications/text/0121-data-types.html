<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Types | Welcome to the Meilisearch dev specifications!</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.b26ff90a.css" as="style"><link rel="preload" href="/assets/js/app.aedcd894.js" as="script"><link rel="preload" href="/assets/js/3.7860be15.js" as="script"><link rel="preload" href="/assets/js/38.7cba70e5.js" as="script"><link rel="prefetch" href="/assets/js/10.867f19e5.js"><link rel="prefetch" href="/assets/js/11.72b45679.js"><link rel="prefetch" href="/assets/js/12.2af66f08.js"><link rel="prefetch" href="/assets/js/13.167021d3.js"><link rel="prefetch" href="/assets/js/14.b6e2d094.js"><link rel="prefetch" href="/assets/js/15.7c5b44f9.js"><link rel="prefetch" href="/assets/js/16.e30e1077.js"><link rel="prefetch" href="/assets/js/17.a5f22ef4.js"><link rel="prefetch" href="/assets/js/18.f87d82ff.js"><link rel="prefetch" href="/assets/js/19.1374b4fc.js"><link rel="prefetch" href="/assets/js/20.61ccbe96.js"><link rel="prefetch" href="/assets/js/21.d9d2de27.js"><link rel="prefetch" href="/assets/js/22.651633e9.js"><link rel="prefetch" href="/assets/js/23.9b9a3444.js"><link rel="prefetch" href="/assets/js/24.e526272c.js"><link rel="prefetch" href="/assets/js/25.d0799eb0.js"><link rel="prefetch" href="/assets/js/26.f7d33dc0.js"><link rel="prefetch" href="/assets/js/27.97cd9936.js"><link rel="prefetch" href="/assets/js/28.5e3fb46d.js"><link rel="prefetch" href="/assets/js/29.3402d6e4.js"><link rel="prefetch" href="/assets/js/30.f8896eb5.js"><link rel="prefetch" href="/assets/js/31.02252265.js"><link rel="prefetch" href="/assets/js/32.d110bd72.js"><link rel="prefetch" href="/assets/js/33.0f295cc3.js"><link rel="prefetch" href="/assets/js/34.54f24532.js"><link rel="prefetch" href="/assets/js/35.9cfaf523.js"><link rel="prefetch" href="/assets/js/36.ab86608b.js"><link rel="prefetch" href="/assets/js/37.4a942ee2.js"><link rel="prefetch" href="/assets/js/39.69972516.js"><link rel="prefetch" href="/assets/js/4.7c96fa1c.js"><link rel="prefetch" href="/assets/js/40.a258f4f9.js"><link rel="prefetch" href="/assets/js/41.680f64e6.js"><link rel="prefetch" href="/assets/js/42.89dccdf9.js"><link rel="prefetch" href="/assets/js/43.89fa855e.js"><link rel="prefetch" href="/assets/js/44.82c75e0e.js"><link rel="prefetch" href="/assets/js/45.c45f1bf9.js"><link rel="prefetch" href="/assets/js/46.e4da27a1.js"><link rel="prefetch" href="/assets/js/47.73e2a9b1.js"><link rel="prefetch" href="/assets/js/48.4c5f8c16.js"><link rel="prefetch" href="/assets/js/49.684e129c.js"><link rel="prefetch" href="/assets/js/5.06848b4d.js"><link rel="prefetch" href="/assets/js/50.0664adbd.js"><link rel="prefetch" href="/assets/js/51.84e2032f.js"><link rel="prefetch" href="/assets/js/52.ee64393c.js"><link rel="prefetch" href="/assets/js/53.ccff4ee5.js"><link rel="prefetch" href="/assets/js/54.035ef934.js"><link rel="prefetch" href="/assets/js/55.e3f602d7.js"><link rel="prefetch" href="/assets/js/56.443da874.js"><link rel="prefetch" href="/assets/js/6.87f02c74.js"><link rel="prefetch" href="/assets/js/7.fadbe260.js"><link rel="prefetch" href="/assets/js/8.f11f7871.js"><link rel="prefetch" href="/assets/js/9.980fc650.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.9a2822a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b26ff90a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Welcome to the Meilisearch dev specifications!</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/specifications/text/0000-specification-template.html" class="sidebar-link">Specification template</a></li><li><a href="/specifications/text/0001-frontend-disable-prod.html" class="sidebar-link">Frontend disable prod</a></li><li><a href="/specifications/text/0001-script-based-tokenizer.html" class="sidebar-link">Script based tokenizer</a></li><li><a href="/specifications/text/0028-indexing-csv.html" class="sidebar-link">Indexing csv</a></li><li><a href="/specifications/text/0029-indexing-ndjson.html" class="sidebar-link">Indexing ndjson</a></li><li><a href="/specifications/text/0030-asc-desc-criterion.html" class="sidebar-link">Asc desc criterion</a></li><li><a href="/specifications/text/0032-distinct-attribute.html" class="sidebar-link">Distinct attribute</a></li><li><a href="/specifications/text/0033-logging.html" class="sidebar-link">Logging</a></li><li><a href="/specifications/text/0034-telemetry-policies.html" class="sidebar-link">Telemetry policies</a></li><li><a href="/specifications/text/0036-exactness-criterion.html" class="sidebar-link">Exactness criterion</a></li><li><a href="/specifications/text/0038-rename-attributes-for-faceting.html" class="sidebar-link">Rename attributes for faceting</a></li><li><a href="/specifications/text/0043-phrase-query.html" class="sidebar-link">Phrase query</a></li><li><a href="/specifications/text/0047-reset-stop-words-synonyms-settings-with-null.html" class="sidebar-link">Reset stop words synonyms settings with null</a></li><li><a href="/specifications/text/0048-rename-max-mdb-size-var.html" class="sidebar-link">Rename max mdb size var</a></li><li><a href="/specifications/text/0055-sort.html" class="sidebar-link">Sort</a></li><li><a href="/specifications/text/0059-geo-search.html" class="sidebar-link">Geo search</a></li><li><a href="/specifications/text/0060-tasks-api.html" class="sidebar-link">Tasks api</a></li><li><a href="/specifications/text/0061-error-format-and-definitions.html" class="sidebar-link">Error format and definitions</a></li><li><a href="/specifications/text/0077-words-position-limit.html" class="sidebar-link">Words position limit</a></li><li><a href="/specifications/text/0085-api-keys.html" class="sidebar-link">Api keys</a></li><li><a href="/specifications/text/0089-tenant-tokens.html" class="sidebar-link">Tenant tokens</a></li><li><a href="/specifications/text/0096-auto-batching.html" class="sidebar-link">Auto batching</a></li><li><a href="/specifications/text/0105-dumps-api.html" class="sidebar-link">Dumps api</a></li><li><a href="/specifications/text/0117-typo-tolerance-setting-api.html" class="sidebar-link">Typo tolerance setting api</a></li><li><a href="/specifications/text/0118-search-api.html" class="sidebar-link">Search api</a></li><li><a href="/specifications/text/0119-instance-options.html" class="sidebar-link">Instance options</a></li><li><a href="/specifications/text/0121-data-types.html" aria-current="page" class="active sidebar-link">Data types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specifications/text/0121-data-types.html#_1-summary" class="sidebar-link">1. Summary</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0121-data-types.html#_2-functional-specification" class="sidebar-link">2. Functional Specification</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0121-data-types.html#_3-technical-details" class="sidebar-link">3. Technical Details</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0121-data-types.html#_4-future-possibilities" class="sidebar-link">4. Future Possibilities</a></li></ul></li><li><a href="/specifications/text/0123-displayed-attributes-setting-api.html" class="sidebar-link">Displayed attributes setting api</a></li><li><a href="/specifications/text/0123-distinct-attribute-setting-api.html" class="sidebar-link">Distinct attribute setting api</a></li><li><a href="/specifications/text/0123-filterable-attributes-setting-api.html" class="sidebar-link">Filterable attributes setting api</a></li><li><a href="/specifications/text/0123-ranking-rules-setting-api.html" class="sidebar-link">Ranking rules setting api</a></li><li><a href="/specifications/text/0123-searchable-attributes-setting-api.html" class="sidebar-link">Searchable attributes setting api</a></li><li><a href="/specifications/text/0123-settings-api.html" class="sidebar-link">Settings api</a></li><li><a href="/specifications/text/0123-sortable-attributes-setting-api.html" class="sidebar-link">Sortable attributes setting api</a></li><li><a href="/specifications/text/0123-stop-words-setting-api.html" class="sidebar-link">Stop words setting api</a></li><li><a href="/specifications/text/0123-synonyms-setting-api.html" class="sidebar-link">Synonyms setting api</a></li><li><a href="/specifications/text/0124-documents-api.html" class="sidebar-link">Documents api</a></li><li><a href="/specifications/text/0132-indexes-api.html" class="sidebar-link">Indexes api</a></li><li><a href="/specifications/text/0134-stats-api.html" class="sidebar-link">Stats api</a></li><li><a href="/specifications/text/0135-indexing-json.html" class="sidebar-link">Indexing json</a></li><li><a href="/specifications/text/0136-documents-soft-deletion.html" class="sidebar-link">Documents soft deletion</a></li><li><a href="/specifications/text/0171-version-api.html" class="sidebar-link">Version api</a></li><li><a href="/specifications/text/0172-health-api.html" class="sidebar-link">Health api</a></li><li><a href="/specifications/text/157-faceting-setting-api.html" class="sidebar-link">Aceting setting api</a></li><li><a href="/specifications/text/157-pagination-setting-api.html" class="sidebar-link">Agination setting api</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-types"><a href="#data-types" class="header-anchor">#</a> Data Types</h1> <h2 id="_1-summary"><a href="#_1-summary" class="header-anchor">#</a> 1. Summary</h2> <p>This specification describes the different data types supported for the fields in a document and how Meilisearch handles them.</p> <h2 id="_2-functional-specification"><a href="#_2-functional-specification" class="header-anchor">#</a> 2. Functional Specification</h2> <p>No matter the type, the value of a field is unchanged in the returned documents upon search.</p> <p>For example, if you have a complex document structure with nested objects, the document is returned with the same complexity upon search.</p> <p>However, based on their type, the fields are handled and used in different ways by Meilisearch.</p> <h3 id="_2-1-supported-types"><a href="#_2-1-supported-types" class="header-anchor">#</a> 2.1. Supported types</h3> <ul><li><a href="#211-string">String</a></li> <li><a href="#212-numeric">Numeric</a></li> <li><a href="#213-boolean">Boolean</a></li> <li><a href="#214-array">Array</a></li> <li><a href="#215-object">Object</a></li> <li><a href="#216-null">null</a></li></ul> <h4 id="_2-1-1-string"><a href="#_2-1-1-string" class="header-anchor">#</a> 2.1.1. String</h4> <p><code>string</code> is the primary type for indexing data in Meilisearch.</p> <blockquote><p>See <a href="#31-string-tokenization">3.1. String Tokenization section</a>.</p></blockquote> <h4 id="_2-1-2-numeric"><a href="#_2-1-2-numeric" class="header-anchor">#</a> 2.1.2. Numeric</h4> <p>The engine internally converts a <code>numeric</code> typed value (<code>integer</code>/<code>float</code>) to a human-readable decimal number string representation to make them searchable.</p> <p>The <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, and <code>&lt;=</code> <code>filter</code> operators apply only to numerical values.</p> <h4 id="_2-1-3-boolean"><a href="#_2-1-3-boolean" class="header-anchor">#</a> 2.1.3. Boolean</h4> <p>The engine internally converts a <code>boolean</code> typed value (<code>true</code>/<code>false</code>) to a lowercase human-readable text to make it searchable.</p> <h4 id="_2-1-4-array"><a href="#_2-1-4-array" class="header-anchor">#</a> 2.1.4. Array</h4> <p>An array is recursively broken into separate string tokens, which means separate words.</p> <p>After the tokenizing process, each word is indexed and stored in the global dictionary of the corresponding index.</p> <blockquote><p>See <a href="#32-array-tokenization">3.2. Array Tokenization section</a>.</p></blockquote> <p>Meilisearch accepts complex data structures, no matter the deepness level.</p> <blockquote><p>See <a href="#34-nested-structures">3.4. Nested structures section</a>.</p></blockquote> <h4 id="_2-1-5-object"><a href="#_2-1-5-object" class="header-anchor">#</a> 2.1.5. Object</h4> <p>The engine flattens JSON objects at the root level of a document.</p> <p>After the tokenizing process, each word is indexed and stored in the global dictionary of the corresponding index.</p> <blockquote><p>See <a href="#33-object">3.3. Object section</a>.</p></blockquote> <p>Meilisearch accepts complex data structures, no matter the deepness level.</p> <blockquote><p>See <a href="#34-nested-structures">3.4. Nested structures section</a>.</p></blockquote> <h4 id="_2-1-6-null"><a href="#_2-1-6-null" class="header-anchor">#</a> 2.1.6. <code>null</code></h4> <p>The <code>null</code> type is not taken into account at indexing.</p> <h2 id="_3-technical-details"><a href="#_3-technical-details" class="header-anchor">#</a> 3. Technical Details</h2> <h3 id="_3-1-string-tokenization"><a href="#_3-1-string-tokenization" class="header-anchor">#</a> 3.1. String Tokenization</h3> <p>String tokenization is the process of splitting a string into a list of individual terms that are called tokens.</p> <p>A string is passed to a tokenizer and is then broken into separate string tokens. A token is a word.</p> <p>For Latin-based languages, the words are separated by space.
For Kanji characters, the words are separated by character.</p> <p>For Latin-based languages, there are two kinds of space separators:</p> <ul><li><strong>Soft spaces (distance: 1)</strong>: whitespaces, quotes, <code>-</code> | <code>_</code> | <code>\</code> | <code>:</code> | <code>/</code> | <code>\\</code> | <code>@</code> | <code>&quot;</code> | <code>+</code> | <code>~</code> | <code>=</code> | <code>^</code> | <code>*</code> | <code>#</code></li> <li><strong>Hard spaces (distance: 8)</strong>: <code>.</code> | <code>;</code> | <code>,</code> | <code>!</code> | <code>?</code> | <code>(</code> | <code>)</code> | <code>[</code> | <code>]</code> | <code>{</code> | <code>}</code>| <code>|</code></li></ul> <p>Distance plays an essential role in determining whether documents are relevant. The <code>proximity</code> ranking rule sorts the results by increasing distance between matched query terms. Two words separated by a soft space are closer and thus considered more relevant than two words separated by a hard space.</p> <p>After the tokenizing process, each word is indexed and stored in the global dictionary of the corresponding index.</p> <h4 id="_3-1-1-examples"><a href="#_3-1-1-examples" class="header-anchor">#</a> 3.1.1. Examples</h4> <p>To demonstrate how a string is split by space, let's say you have the following string as an input:</p> <p><code>&quot;Bruce Willis,Vin Diesel&quot;</code></p> <p>In the example above, the distance between <code>Bruce</code> and <code>Willis</code> is equal to <code>1</code>. The distance between <code>Vin</code> and <code>Diesel</code> is equal to <code>1</code> too.
But, the distance between <code>Bruce</code> and <code>Vin</code> is equal to <code>8</code>. The same goes for <code>Bruce</code> and <code>Diesel</code>, or <code>Willis</code> and <code>Vin</code>, or also <code>Willis</code> and <code>Diesel</code>.</p> <p>Let's see another example. Given two documents:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;movie_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;001&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bruce.Willis&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;movie_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;002&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bruce super Willis&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>When making a query on <code>Bruce Willis</code>, <code>002</code> will be the first document returned and <code>001</code> will be the second one.
This will happen because the proximity distance between <code>Bruce</code> and <code>Willis</code> is equal to <code>2</code> in the document <code>002</code> whereas the distance between <code>Bruce</code> and <code>Willis</code> is equal to <code>8</code> in the document <code>001</code> since the full stop is a hard space.</p> <h3 id="_3-2-array-tokenization"><a href="#_3-2-array-tokenization" class="header-anchor">#</a> 3.2. Array Tokenization</h3> <p>An array is recursively broken into separate string tokens, which means separate words. After the tokenizing process, each word is indexed and stored in the global dictionary of the corresponding index.</p> <h4 id="_3-2-1-examples"><a href="#_3-2-1-examples" class="header-anchor">#</a> 3.2.1. Examples</h4> <p>The following input:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string">&quot;Bruce Willis&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Vin Diesel&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Kung Fu Panda&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Will be processed as if all elements were arranged at the same level:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token string">&quot;Bruce Willis. Vin Diesel. Kung Fu Panda.&quot;</span>
</code></pre></div><p>The strings above will be separated by soft and hard spaces exactly as explained in the string example.</p> <blockquote><p>See <a href="#311-examples">3.1.1. Examples section</a>.</p></blockquote> <h3 id="_3-3-nested-structures"><a href="#_3-3-nested-structures" class="header-anchor">#</a> 3.3. Nested Structures</h3> <p>Nested structures (e.g. <code>Object</code>, <code>Array of Objects</code>, etc) are internally flattened to a document's root level.</p> <p>It allows expressing a nested field in all Meilisearch parameters that accept document attributes.</p> <p>Meilisearch accepts the <code>.</code> (dot-notation) to express a nested field location in a document structure.</p> <p>Meilisearch is limited to 127 levels of depth.</p> <h4 id="_3-3-1-examples"><a href="#_3-3-1-examples" class="header-anchor">#</a> 3.3.1. Examples</h4> <h5 id="_3-3-1-1-object"><a href="#_3-3-1-1-object" class="header-anchor">#</a> 3.3.1.1. Object</h5> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code>    <span class="token punctuation">{</span>
        <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;d&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;f&quot;</span><span class="token operator">:</span> <span class="token string">&quot;g&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Flattens to:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.d&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.f&quot;</span><span class="token operator">:</span> <span class="token string">&quot;g&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-2-array-of-objects"><a href="#_3-3-1-2-array-of-objects" class="header-anchor">#</a> 3.3.1.2. Array of objects</h5> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Flattens to:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-3-array-of-objects-mixed-with-scalar-value"><a href="#_3-3-1-3-array-of-objects-mixed-with-scalar-value" class="header-anchor">#</a> 3.3.1.3. Array of objects mixed with scalar value</h5> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">42</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;e&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Flattens to:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-4-array-of-objects-of-array-of-objects-of"><a href="#_3-3-1-4-array-of-objects-of-array-of-objects-of" class="header-anchor">#</a> 3.3.1.4. Array of objects of array of objects of ...</h5> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;d&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;g&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;i&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;e&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;j&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;y&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&quot;l&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;m&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Flattens to:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;l&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;m&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.e&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;j&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.e.z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;y&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-5-collision-between-a-representation"><a href="#_3-3-1-5-collision-between-a-representation" class="header-anchor">#</a> 3.3.1.5. Collision between a representation</h5> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;d&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Flattens to:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-6-searchableattributes-default-value-case"><a href="#_3-3-1-6-searchableattributes-default-value-case" class="header-anchor">#</a> 3.3.1.6. searchableAttributes default value case</h5> <p>By default, <code>searchableAttributes</code> is set to <code>[*]</code>, making all document fields searchable.</p> <p>In that case, <code>Attribute</code> ranking rule consider a field higher in the internal representation more important than a lower one.</p> <p>User document field order can be lost if the engine flattens identical field values are not co-located in a document payload.</p> <p>The following JSON document:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T-shirt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">2.0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Nice T-shirt&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Is internally represented</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a.b&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;T-shirt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Nice T-shirt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">2.0</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The second representation of <code>a.b</code> in its nested form is merged with the first representation of <code>a.b</code>.</p> <p>Users can't and should not rely on a given document field order when <code>searchableAttributes</code> is <code>[*]</code>.</p> <h5 id="_3-3-1-7-dot-notation-expression"><a href="#_3-3-1-7-dot-notation-expression" class="header-anchor">#</a> 3.3.1.7. Dot-notation Expression</h5> <p>Permits to express the nested object property.</p> <h6 id="_3-3-1-7-1-example"><a href="#_3-3-1-7-1-example" class="header-anchor">#</a> 3.3.1.7.1. Example</h6> <p>Given this document structure</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;person&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;firstname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Doe&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;country&quot;</span><span class="token operator">:</span> <span class="token string">&quot;US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A precise field can be expressed using the dot-notation</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;attributesToHighlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;person.firstname&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_3-3-1-8-all-object-properties-expression"><a href="#_3-3-1-8-all-object-properties-expression" class="header-anchor">#</a> 3.3.1.8. All Object Properties Expression</h5> <p>It is possible to express the definition of all properties of an object.</p> <p>e.g. In this case <code>person</code> is an object containing properties. <code>attributesToRetrieve: [&quot;person&quot;]</code></p> <p>This notation is accepted on all parameters or settings allowing to specify attributes. This is due to the fact that several documents may not share the same schema. See <a href="#34182-edge-case">3.4.1.8.2. Edge Case</a> section.</p> <h6 id="_3-3-1-8-1-example"><a href="#_3-3-1-8-1-example" class="header-anchor">#</a> 3.3.1.8.1. Example</h6> <p>Given this document structure</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;person&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;firstname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lastname&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Doe&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;country&quot;</span><span class="token operator">:</span> <span class="token string">&quot;US&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;New York&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>All properties of a document nested object can be expressed this way</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;attributesToHighlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>It's equivalent to</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;attributesToHighlight&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;person.firstname&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;person.lastname&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;person.address&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;person.address.country&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;person.address.city&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="_3-3-1-8-2-edge-case"><a href="#_3-3-1-8-2-edge-case" class="header-anchor">#</a> 3.3.1.8.2. Edge Case</h6> <p>One document might have a non-nested field <code>person</code> while another has a <code>person</code> object containing properties.</p> <p>The chosen behavior is not to force the user's hand and Meilisearch do not throw any errors.</p> <p>E.g. If a user specifies <code>&quot;filter&quot;: &quot;person = 'Guillaume'&quot;</code> at search time, the document that would have a nested object person would not be brought up by the filter.</p> <h2 id="_4-future-possibilities"><a href="#_4-future-possibilities" class="header-anchor">#</a> 4. Future Possibilities</h2> <ul><li>Change the default behavior of <code>searchableAttributes</code> so that it is predictable. We may remove the priority based on a field position in a document.</li> <li>Support the wildcard notation with the dot-notation. e.g. <code>person.*</code>, <code>person.address.*</code> or <code>person.l*</code></li> <li>Support the array notation. e.g. <code>person.addresses[1]</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/specifications/text/0119-instance-options.html" class="prev">
        Instance options
      </a></span> <span class="next"><a href="/specifications/text/0123-displayed-attributes-setting-api.html">
        Displayed attributes setting api
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.aedcd894.js" defer></script><script src="/assets/js/3.7860be15.js" defer></script><script src="/assets/js/38.7cba70e5.js" defer></script>
  </body>
</html>
